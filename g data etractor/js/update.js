var e="#update_error_msg",a="#loading_section",s={uiSettings:{},load:function(){s.addEvents()},addEvents:function(){$(document).on("click",".close-popup",function(e){self.close()}),$(document).on("submit","#update-form",function(e){var a,t,i;return e.preventDefault(),t=(a=$(this)).find("#user_email_input"),a.find(".update_error_msg").hide(),a.find(".updateResSection").hide(),a.find('[type="submit"]'),""==t.val()?(a.find(".update_error_msg").text("You need to Enter a email"),a.find(".update_error_msg").show(),t.parent().addClass("has-error"),t.focus(),!1):0==s.validateEmail(t.val())?(a.find(".update_error_msg").text("You need to Enter a valid email"),a.find(".update_error_msg").show(),t.parent().addClass("has-error"),t.focus(),!1):(t.parent().removeClass("has-error"),a.find(".loadingSection").show(),a.find('[type="submit"]').attr("disabled","disabled"),(i={}).name="Google Map Extractor",i.email=t.val(),void sendMessage({command:"updateProcess",data:i},function(e){a.find(".loadingSection").hide(),a.find('[type="submit"]').removeAttr("disabled"),a.find(".updateResSection").show(),e&&e==atob("MQ==")?a.find(".updateResSection").html('<div class="alert alert-success alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Success!</strong> <i class="fa fa-check-circle"></i> Please Check Your Email Box And Try to Check Spam wait Upto 30 Min Other Wise Ask Master Otp From Service Provide.</div>'):e&&e==atob("Mg==")?a.find(".updateResSection").html('<div class="alert alert-warning alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Warning!</strong> <i class="fa fa-info"></i> Sorry Your Acount Is Not Activated You Are Suscribed Ony Demo Version.</div>'):e&&e==atob("Mw==")?(a[0].reset(),a.find(".updateResSection").html('<div class="alert alert-warning alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Warning!</strong> <i class="fa fa-info"></i> We Are Not Able To Find Your Account.</div>')):a.find(".updateResSection").html('<div class="alert alert-danger alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Error!</strong> <i class="fa fa-times"></i> '+e+".</div>")}))}),$(document).on("submit","#update-otp-form",function(e){var a,t,i,r;return e.preventDefault(),t=(a=$(this)).find("#user_email_input"),i=a.find("#user_otp_input"),a.find(".update_error_msg").hide(),a.find(".updateResSection").hide(),a.find('[type="submit"]'),""==t.val()?(a.find(".update_error_msg").text("You need to Enter a email"),a.find(".update_error_msg").show(),t.parent().addClass("has-error"),t.focus(),!1):0==s.validateEmail(t.val())?(a.find(".update_error_msg").text("You need to Enter a valid email"),a.find(".update_error_msg").show(),t.parent().addClass("has-error"),t.focus(),!1):(t.parent().removeClass("has-error"),""==i.val()?(a.find(".update_error_msg").text("You need to Enter a OTP"),a.find(".update_error_msg").show(),i.parent().addClass("has-error"),i.focus(),!1):(i.parent().removeClass("has-error"),a.find(".loadingSection").show(),a.find('[type="submit"]').attr("disabled","disabled"),(r={}).name="Google Map Extractor",r.email=t.val(),r.otp=i.val(),void sendMessage({command:"updateOTPProcess",data:r},function(e){a.find(".loadingSection").hide(),a.find('[type="submit"]').removeAttr("disabled"),a.find(".updateResSection").show(),e&&e==atob("MQ==")?(a[0].reset(),a.find(".updateResSection").html('<div class="alert alert-success alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Success!</strong> <i class="fa fa-check-circle"></i> Your system is updated thanx.</div>')):e&&e==atob("Mg==")?a.find(".updateResSection").html('<div class="alert alert-danger alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Error!</strong> <i class="fa fa-times"></i> Your Otp is Wrong.</div>'):e&&e==atob("Mw==")?a.find(".updateResSection").html('<div class="alert alert-danger alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Error!</strong> <br><br> <i class="fa fa-check-circle"></i> Please contact your service Provider your account is not approved.</div>'):a.find(".updateResSection").html('<div class="alert alert-danger alert-dismissible text-center"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a><strong>Error!</strong> <i class="fa fa-times"></i> '+e+".</div>")})))})},validateEmail:function(e){var a=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),s=a.test(e);return!!s}};function sendMessage(e,a){null!=a&&(e.callback="yes"),chrome.runtime.sendMessage(e,a)}function sendMessageActiveTab(e,a){chrome.tabs.query({active:!0,currentWindow:!0},function(s){chrome.tabs.sendMessage(s[0].id,e,a)})}function handleMessage(e,a){switch(e.command){case"rec_getSettings":s.uiSettings=e.data.uiSettings;break;case"updateScrapeState":s.updateScrapeState()}void 0!==e.data&&void 0!==e.data.callback&&"yes"==e.data.callback&&(callback(),callback=null)}$(document).ready(function(){s.load(),chrome.runtime.onMessage.addListener(handleMessage)});